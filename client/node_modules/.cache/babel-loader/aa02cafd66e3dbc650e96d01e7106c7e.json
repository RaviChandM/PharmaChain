{"ast":null,"code":"import _regeneratorRuntime from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{BrowserRouter,Route,NavLink}from\"react-router-dom\";var QueryProductSpecs=/*#__PURE__*/function(_Component){_inherits(QueryProductSpecs,_Component);function QueryProductSpecs(props){var _this;_classCallCheck(this,QueryProductSpecs);_this=_possibleConstructorReturn(this,_getPrototypeOf(QueryProductSpecs).call(this,props));_this.state={proName:\"\"};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var specs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n// const material = this.state.materialName;\n// const proName = this.state.proName;\n// const supplierId = this.state.supplier;\n_context.next=3;return _this.props.contract.methods.getProductSpecs(_this.state.proName).call();case 3:specs=_context.sent;if(specs.length===0){_this.setState({specs:specs.push(\"Didn't find any specs for the given product ID, please try again!\")});}_this.setState({specs:specs});_this.setState({proName:\"\"});case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onChange=function(e){_this.setState({proName:_this.productRef.current.value});};_this.productRef=React.createRef();_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));return _this;}_createClass(QueryProductSpecs,[{key:\"render\",value:function render(){var acc=this.props.account;var cont=this.props.contract;if(!acc||!cont){return React.createElement(\"div\",null,\" Loading..... \");}return React.createElement(\"form\",{onSubmit:this.onSubmit,className:\"newform-container\"},React.createElement(\"label\",null,\" Enter Product ID \"),React.createElement(\"input\",{type:\"text\",ref:this.productRef,placeholder:\"e.g. pro101\",value:this.state.proName,onChange:this.onChange}),React.createElement(\"input\",{style:{cursor:\"pointer\"},className:\"btn\",type:\"submit\",value:\"VIEW PRODUCT SPECS\"}),React.createElement(\"div\",{style:{marginTop:\"20px\",fontStyle:\"italic\"},className:\"product-data-container\"},this.state.specs));}}]);return QueryProductSpecs;}(Component);var RequestMaterials=/*#__PURE__*/function(_Component2){_inherits(RequestMaterials,_Component2);function RequestMaterials(props){var _this2;_classCallCheck(this,RequestMaterials);_this2=_possibleConstructorReturn(this,_getPrototypeOf(RequestMaterials).call(this,props));_this2.state={materialName:\"\",materialsVisibility:false,supplier:\"\",amount:0,form:\"\",msg:' '};_this2.onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var material,supplierId,matform,matamount;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();material=_this2.state.materialName;// const proName = this.state.proName;\nsupplierId=_this2.state.supplier;matform=_this2.state.form;matamount=_this2.state.amount;console.log(supplierId,material,matform,matamount);if(!_this2.props.Web3.utils.isAddress(_this2.state.supplier)){_context2.next=10;break;}_context2.next=9;return _this2.props.contract.methods.createRequest(supplierId,_this2.state.materialName,matform,matamount).send({from:_this2.props.account[0]}).once('receipt',function(receipt){_this2.setState({msg:'Request was sent successfully!'});});case 9:// if (request.length === 0) {\n//   this.setState({\n//     materials: materials.push(\n//       \"This supplier has no recently created materials!\"\n//     ),\n//   });\n// }\n_this2.setState({matName:'',proName:'',supplier:'',form:'',amount:0,materialsVisibility:true});// this.setState({ requests: this.state.requests + 1 });\ncase 10:// this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n//  const material = this.state.materialName;\n// // const proName = this.state.proName;\n//  const supplierId = this.state.supplier;\n//  const matform = this.state.form;\n//  const matamount =this.state.amount;\n_this2.setState({supplier:\"\",materialName:\"\",amount:null,form:\"\"});case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this2.onChange=function(e){_this2.setState({materialName:_this2.materialRef.current.value,supplier:_this2.supplierRef.current.value,amount:_this2.amountRef.current.value,form:_this2.formRef.current.value});};_this2.materialRef=React.createRef();_this2.supplierRef=React.createRef();_this2.amountRef=React.createRef();_this2.formRef=React.createRef();_this2.onSubmit=_this2.onSubmit.bind(_assertThisInitialized(_this2));_this2.onChange=_this2.onChange.bind(_assertThisInitialized(_this2));return _this2;}_createClass(RequestMaterials,[{key:\"render\",value:function render(){var acc=this.props.account;var cont=this.props.contract;var web=this.props.Web3;if(!acc||!cont||!web){return React.createElement(\"div\",null,\" Loading..... \");}return React.createElement(\"form\",{onSubmit:this.onSubmit,className:\"newform-container\"},React.createElement(\"label\",null,\"Enter Supplier ID\"),React.createElement(\"input\",{type:\"text\",id:\"supplier-id\",ref:this.supplierRef,placeholder:\"e.g. 0x49A504f461b36A9337Ddaf1f63c3A3AAD0242E81\",autoComplete:\"off\",value:this.state.supplier,onChange:this.onChange}),React.createElement(\"label\",null,\" Material \"),React.createElement(\"select\",{name:\"material-name\",onChange:this.onChange,ref:this.materialRef},React.createElement(\"option\",{id:\"1\",value:\"vitamin-a\"},\"VITAMIN A\"),React.createElement(\"option\",{id:\"2\",value:\"vitmain-b-complex\"},\"VITAMIN B COMPLEX\"),React.createElement(\"option\",{id:\"3\",value:\"vitamin-c-extract\"},\"VITAMIN C EXTRACT\"),React.createElement(\"option\",{id:\"4\",value:\"vitamin-d\"},\"VITAMIN D\"),React.createElement(\"option\",{id:\"5\",value:\"potassium\"},\"POTASSIUM\"),React.createElement(\"option\",{id:\"6\",value:\"zinc\"},\"ZINC\"),React.createElement(\"option\",{id:\"7\",value:\"plastic\"},\"PLASTIC\"),React.createElement(\"option\",{id:\"8\",value:\"glass\"},\"GLASS\"),React.createElement(\"option\",{id:\"9\",value:\"wood\"},\"WOOD\"),React.createElement(\"option\",{id:\"10\",value:\"wheat-germ-oil\"},\"WHEAT GERM OIL\"),React.createElement(\"option\",{id:\"11\",value:\"paracetamol\"},\"PARACETAMOL\"),React.createElement(\"option\",{id:\"12\",value:\"ginseng\"},\"GINSENG\"),React.createElement(\"option\",{id:\"13\",value:\"selenium\"},\"SELENIUM\"),React.createElement(\"option\",{id:\"14\",value:\"DHA\"},\"DHA\"),React.createElement(\"option\",{id:\"15\",value:\"folic-acid\"},\"FOLIC ACID\"),React.createElement(\"option\",{id:\"16\",value:\"lysine\"},\"LYSINE\"),React.createElement(\"option\",{id:\"17\",value:\"nickel\"},\"NICKEL\")),React.createElement(\"label\",null,\"Enter Material Form \"),React.createElement(\"select\",{name:\"requested-mat-form\",onChange:this.handleChange,ref:this.formRef},React.createElement(\"option\",{id:\"pow\",value:\"powder\"},\"POWDER\"),React.createElement(\"option\",{id:\"liq\",value:\"liquid\"},\"LIQUID\"),React.createElement(\"option\",{id:\"na\",value:\"n/a\"},\"N/A\")),React.createElement(\"label\",null,\"Requested Amount \"),React.createElement(\"input\",{type:\"number\",id:\"material-amount\",value:this.state.amount,ref:this.amountRef,placeholder:\"e.g. 1000 KGs\",autoComplete:\"off\",onChange:this.onChange}),React.createElement(\"input\",{style:{cursor:\"pointer\"},className:\"btn\",type:\"submit\",value:\"SEND MATERIAL REQUEST\"}),React.createElement(\"div\",{style:{marginTop:\"20px\",fontStyle:\"italic\"},className:\"notify-data-container notify-text\"},this.state.msg));}}]);return RequestMaterials;}(Component);var SupplyForm=/*#__PURE__*/function(_Component3){_inherits(SupplyForm,_Component3);function SupplyForm(){var _getPrototypeOf2;var _this3;_classCallCheck(this,SupplyForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this3=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SupplyForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this3.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:case\"end\":return _context3.stop();}}},_callee3);}));return _this3;}_createClass(SupplyForm,[{key:\"render\",// onSubmit = async (e) => {\n//     e.preventDefault();\n//     // this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n//     // this.logProduct();\n//     // const material = this.state.materialName;\n//     // const proName = this.state.proName;\n//     // const supplierId = this.state.supplier;\n//     this.viewMaterialBySupplierAddress();\n//   }\n// onChange = (e) => {\n//     e.preventDefault();\n//     this.setState({\n//         proName : this.productRef.current.value,\n//         // materialName : this.materialRef.current.value,\n//         supplier: this.supplierRef.current.value\n//         });\n// }\n// logProduct = async () => {\n//     const product = await this.props.contract.methods.getProductDetails('5').call();\n//     console.table(product);\n// }\n// fakeTransact = async () => {\n//     //await contract.methods.set(5).send({ from: accounts[0] });\n//     this.props.contract.methods.set(5).send({from: this.props.accounts[0]})\n//     this.setState({materialsVisibility: !this.setState.materialsVisibility });\n//     console.log(this.state.materialsVisibility)\n// }\n// viewSpecs = async () => {\n//   const specs = await this.props.contract.methods\n//     .getProductSpecs(this.state.proName)\n//     .call();\n//   if (specs.length === 0) {\n//     this.setState({\n//       specs: specs.push(\n//         \"Didn't find any specs for the given product ID, please try again!\"\n//       ),\n//     });\n//   }\n//   console.log(specs);\n//   this.setState({ specs });\n// };\n// viewMaterialBySupplierAddress = async () => {\n//   // console.log()\n//   if (this.props.Web3.utils.isAddress(this.state.supplier)) {\n//     const materials = await this.props.contract.methods\n//       .getMaterialBySupplier(`${this.state.supplier}`)\n//       .call();\n//     if (materials.length === 0) {\n//       this.setState({\n//         materials: materials.push(\n//           \"This supplier has no materials created currently!\"\n//         ),\n//       });\n//     }\n//     this.setState({ materials });\n//   }\n// };\nvalue:function render(){var _this4=this;// const vis = this.state.materialsVisibility ? 'show' : 'hide';\n// const random = Math.floor(Math.random() * 100);\nvar acc=this.props.account;var cont=this.props.contract;if(!acc||!cont){return React.createElement(\"div\",null,\" Loading..... \");}return React.createElement(BrowserRouter,null,React.createElement(\"div\",{className:\"product-form-container\"},React.createElement(\"div\",{className:\"side-nav\"},React.createElement(\"ul\",{className:\"mini-nav-list\"},React.createElement(\"li\",{className:\"link-item\"},React.createElement(NavLink,{to:\"/supply/querySpecs\"},\"+ QUERY PRODUCT SPECS\"),\" \"),React.createElement(\"li\",{className:\"link-item\"},\" \",React.createElement(NavLink,{to:\"/supply/requestMaterial\"},\"+ REQUEST MATERIALS\")))),React.createElement(\"div\",{className:\"main-content\"},React.createElement(Route,{path:\"/supply/querySpecs\",exact:true,render:function render(props){return React.createElement(QueryProductSpecs,Object.assign({},props,{account:_this4.props.account,contract:_this4.props.contract}));}}),React.createElement(Route,{path:\"/supply/requestMaterial\",exact:true,render:function render(props){return React.createElement(RequestMaterials,Object.assign({},props,{Web3:_this4.props.Web3,account:_this4.props.account,contract:_this4.props.contract}));}}))));}}]);return SupplyForm;}(Component);export default SupplyForm;","map":{"version":3,"sources":["/home/mohamedkaram/Documents/Demo-sandbox/client/src/components/SupplyForm.js"],"names":["React","Component","BrowserRouter","Route","NavLink","QueryProductSpecs","props","state","proName","onSubmit","e","preventDefault","contract","methods","getProductSpecs","call","specs","length","setState","push","onChange","productRef","current","value","createRef","bind","acc","account","cont","cursor","marginTop","fontStyle","RequestMaterials","materialName","materialsVisibility","supplier","amount","form","msg","material","supplierId","matform","matamount","console","log","Web3","utils","isAddress","createRequest","send","from","once","receipt","matName","materialRef","supplierRef","amountRef","formRef","web","handleChange","SupplyForm","componentDidMount"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter, Route, NavLink } from \"react-router-dom\";\n\nclass QueryProductSpecs extends Component {\n  state = { proName: \"\" };\n\n  constructor(props) {\n    super(props);\n    this.productRef = React.createRef();\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onSubmit = async (e) => {\n    e.preventDefault();\n\n    // this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n    // const material = this.state.materialName;\n    // const proName = this.state.proName;\n    // const supplierId = this.state.supplier;\n\n    const specs = await this.props.contract.methods\n      .getProductSpecs(this.state.proName)\n      .call();\n    if (specs.length === 0) {\n      this.setState({\n        specs: specs.push(\n          \"Didn't find any specs for the given product ID, please try again!\"\n        ),\n      });\n    }\n    this.setState({ specs });\n\n    this.setState({ proName: \"\" });\n  };\n\n  onChange = (e) => {\n    this.setState({\n      proName: this.productRef.current.value,\n    });\n  };\n\n  render() {\n    let acc = this.props.account;\n    let cont = this.props.contract;\n    if (!acc || !cont) {\n      return <div> Loading..... </div>;\n    }\n    return (\n      <form onSubmit={this.onSubmit} className=\"newform-container\">\n        <label> Enter Product ID </label>\n\n        <input\n          type=\"text\"\n          ref={this.productRef}\n          placeholder=\"e.g. pro101\"\n          value={this.state.proName}\n          onChange={this.onChange}\n        />\n\n        <input\n          style={{ cursor: \"pointer\" }}\n          className=\"btn\"\n          type=\"submit\"\n          value=\"VIEW PRODUCT SPECS\"\n        />\n\n        <div\n          style={{ marginTop: \"20px\", fontStyle: \"italic\" }}\n          className=\"product-data-container\"\n        >\n          {this.state.specs}\n        </div>\n      </form>\n    );\n  }\n}\n\nclass RequestMaterials extends Component {\n  state = {\n    materialName: \"\",\n    materialsVisibility: false,\n    supplier: \"\",\n    amount: 0,\n    form: \"\",\n    msg: ' '\n  };\n\n  constructor(props) {\n    super(props);\n    this.materialRef = React.createRef();\n    this.supplierRef = React.createRef();\n    this.amountRef = React.createRef();\n    this.formRef = React.createRef();\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onSubmit = async (e) => {\n    e.preventDefault();\n    const material = this.state.materialName;\n    // const proName = this.state.proName;\n     const supplierId = this.state.supplier;\n     const matform = this.state.form;\n     const matamount =this.state.amount;\n     console.log(supplierId,material,matform,matamount)\n    if (this.props.Web3.utils.isAddress(this.state.supplier)) {\n         await this.props.contract.methods\n        .createRequest(supplierId, this.state.materialName, matform, matamount)\n        .send({from: this.props.account[0]}).once('receipt', (receipt) => {\n          this.setState({ msg: 'Request was sent successfully!' })\n          });\n              // if (request.length === 0) {\n      //   this.setState({\n      //     materials: materials.push(\n      //       \"This supplier has no recently created materials!\"\n      //     ),\n      //   });\n      // }\n      this.setState({  matName: '', proName: '', supplier: '', form: '' , amount: 0,\n        materialsVisibility: true });\n      // this.setState({ requests: this.state.requests + 1 });\n    }\n\n    // this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n    //  const material = this.state.materialName;\n    // // const proName = this.state.proName;\n    //  const supplierId = this.state.supplier;\n    //  const matform = this.state.form;\n    //  const matamount =this.state.amount;\n    this.setState({ supplier: \"\", materialName: \"\", amount: null, form: \"\" });\n  };\n\n  onChange = (e) => {\n    this.setState({\n      materialName: this.materialRef.current.value,\n      supplier: this.supplierRef.current.value,\n      amount: this.amountRef.current.value,\n      form: this.formRef.current.value,\n    });\n  };\n\n  render() {\n    let acc = this.props.account;\n    let cont = this.props.contract;\n    let web = this.props.Web3;\n    if (!acc || !cont || !web) {\n      return <div> Loading..... </div>;\n    }\n    return (\n      <form onSubmit={this.onSubmit} className=\"newform-container\">\n        <label>Enter Supplier ID</label>\n\n        <input\n          type=\"text\"\n          id=\"supplier-id\"\n          ref={this.supplierRef}\n          placeholder=\"e.g. 0x49A504f461b36A9337Ddaf1f63c3A3AAD0242E81\"\n          autoComplete=\"off\"\n          value={this.state.supplier}\n          onChange={this.onChange}\n        />\n\n        {/* <button\n                    style= {{cursor:'pointer'}}\n                    className=\"btn\"\n                    type=\"submit\"\n                    onClick = {this.getProductSpecs}\n                    >SEARCH FOR MATERIAL </button> */}\n\n        <label> Material </label>\n        <select\n          name=\"material-name\"\n          onChange={this.onChange}\n          ref={this.materialRef}\n        >\n          <option id=\"1\" value=\"vitamin-a\">\n            VITAMIN A\n          </option>\n          <option id=\"2\" value=\"vitmain-b-complex\">\n            VITAMIN B COMPLEX\n          </option>\n          <option id=\"3\" value=\"vitamin-c-extract\">\n            VITAMIN C EXTRACT\n          </option>\n          <option id=\"4\" value=\"vitamin-d\">\n            VITAMIN D\n          </option>\n          <option id=\"5\" value=\"potassium\">\n            POTASSIUM\n          </option>\n          <option id=\"6\" value=\"zinc\">\n            ZINC\n          </option>\n          <option id=\"7\" value=\"plastic\">\n            PLASTIC\n          </option>\n          <option id=\"8\" value=\"glass\">\n            GLASS\n          </option>\n          <option id=\"9\" value=\"wood\">\n            WOOD\n          </option>\n          <option id=\"10\" value=\"wheat-germ-oil\">\n            WHEAT GERM OIL\n          </option>\n          <option id=\"11\" value=\"paracetamol\">\n            PARACETAMOL\n          </option>\n          <option id=\"12\" value=\"ginseng\">\n            GINSENG\n          </option>\n          <option id=\"13\" value=\"selenium\">\n            SELENIUM\n          </option>\n          <option id=\"14\" value=\"DHA\">\n            DHA\n          </option>\n          <option id=\"15\" value=\"folic-acid\">\n            FOLIC ACID\n          </option>\n          <option id=\"16\" value=\"lysine\">\n            LYSINE\n          </option>\n          <option id=\"17\" value=\"nickel\">\n            NICKEL\n          </option>\n        </select>\n\n        <label>Enter Material Form </label>\n        <select\n          name=\"requested-mat-form\"\n          onChange={this.handleChange}\n          ref={this.formRef}\n        >\n          <option id=\"pow\" value=\"powder\">\n            POWDER\n          </option>\n          <option id=\"liq\" value=\"liquid\">\n            LIQUID\n          </option>\n          <option id=\"na\" value=\"n/a\">\n            N/A\n          </option>\n        </select>\n\n        <label>Requested Amount </label>\n\n        <input\n          type=\"number\"\n          id=\"material-amount\"\n          value={this.state.amount}\n          ref={this.amountRef}\n          placeholder=\"e.g. 1000 KGs\"\n          autoComplete=\"off\"\n          onChange={this.onChange}\n        />\n\n        <input\n          style={{ cursor: \"pointer\" }}\n          className=\"btn\"\n          type=\"submit\"\n          value=\"SEND MATERIAL REQUEST\"\n        />\n\n        <div\n          style={{ marginTop: \"20px\", fontStyle: \"italic\"}}\n          className=\"notify-data-container notify-text\"\n        >\n          {this.state.msg}\n        </div>\n      </form>\n    );\n  }\n}\n\nclass SupplyForm extends Component {\n  // state = {materialName: '' , materialsVisibility:  false , proName: '' , supplier: '' }\n\n  // constructor(props) {\n  //     super(props);\n\n  //     this.materialRef = React.createRef();\n  //     this.supplierRef = React.createRef();\n  //     this.onSubmit = this.onSubmit.bind(this)\n  //     this.onChange = this.onChange.bind(this)\n  //     this.viewMaterialBySupplierAddress = this.viewMaterialBySupplierAddress.bind(this)\n  //     this.viewSpecs = this.viewSpecs.bind(this)\n  // }\n\n  componentDidMount = async () => {\n    // if (!this.props.contract || !this.props.accounts) {\n    //     return <h2> PLEASE WAIT... </h2>;\n    // }\n  };\n\n  // onSubmit = async (e) => {\n  //     e.preventDefault();\n  //     // this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n  //     // this.logProduct();\n  //     // const material = this.state.materialName;\n  //     // const proName = this.state.proName;\n  //     // const supplierId = this.state.supplier;\n\n  //     this.viewMaterialBySupplierAddress();\n  //   }\n\n  // onChange = (e) => {\n  //     e.preventDefault();\n  //     this.setState({\n\n  //         proName : this.productRef.current.value,\n  //         // materialName : this.materialRef.current.value,\n  //         supplier: this.supplierRef.current.value\n  //         });\n  // }\n\n  // logProduct = async () => {\n  //     const product = await this.props.contract.methods.getProductDetails('5').call();\n  //     console.table(product);\n  // }\n\n  // fakeTransact = async () => {\n  //     //await contract.methods.set(5).send({ from: accounts[0] });\n  //     this.props.contract.methods.set(5).send({from: this.props.accounts[0]})\n  //     this.setState({materialsVisibility: !this.setState.materialsVisibility });\n  //     console.log(this.state.materialsVisibility)\n  // }\n\n  // viewSpecs = async () => {\n  //   const specs = await this.props.contract.methods\n  //     .getProductSpecs(this.state.proName)\n  //     .call();\n  //   if (specs.length === 0) {\n  //     this.setState({\n  //       specs: specs.push(\n  //         \"Didn't find any specs for the given product ID, please try again!\"\n  //       ),\n  //     });\n  //   }\n  //   console.log(specs);\n  //   this.setState({ specs });\n  // };\n\n  // viewMaterialBySupplierAddress = async () => {\n  //   // console.log()\n  //   if (this.props.Web3.utils.isAddress(this.state.supplier)) {\n  //     const materials = await this.props.contract.methods\n  //       .getMaterialBySupplier(`${this.state.supplier}`)\n  //       .call();\n  //     if (materials.length === 0) {\n  //       this.setState({\n  //         materials: materials.push(\n  //           \"This supplier has no materials created currently!\"\n  //         ),\n  //       });\n  //     }\n  //     this.setState({ materials });\n  //   }\n  // };\n  render() {\n    // const vis = this.state.materialsVisibility ? 'show' : 'hide';\n    // const random = Math.floor(Math.random() * 100);\n    let acc = this.props.account;\n    let cont = this.props.contract;\n    if (!acc || !cont) {\n      return <div> Loading..... </div>;\n    }\n    return (\n      <BrowserRouter>\n        <div className=\"product-form-container\">\n          <div className=\"side-nav\">\n            <ul className=\"mini-nav-list\">\n              <li className=\"link-item\">\n                <NavLink to=\"/supply/querySpecs\">+ QUERY PRODUCT SPECS</NavLink>{\" \"}\n              </li>\n              <li className=\"link-item\">\n                {\" \"}\n                <NavLink to=\"/supply/requestMaterial\">\n                  + REQUEST MATERIALS\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n          <div className=\"main-content\">\n            <Route\n              path=\"/supply/querySpecs\"\n              exact\n              render={(props) => (\n                <QueryProductSpecs\n                  {...props}\n                  account={this.props.account}\n                  contract={this.props.contract}\n                />\n              )}\n            />\n            <Route\n              path=\"/supply/requestMaterial\"\n              exact\n              render={(props) => (\n                <RequestMaterials\n                  {...props}\n                  Web3={this.props.Web3}\n                  account={this.props.account}\n                  contract={this.props.contract}\n                />\n              )}\n            />\n          </div>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default SupplyForm;\n"]},"metadata":{},"sourceType":"module"}