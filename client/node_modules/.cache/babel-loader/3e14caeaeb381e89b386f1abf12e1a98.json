{"ast":null,"code":"import _regeneratorRuntime from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/mohamedkaram/Documents/Demo-sandbox/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import getWeb3 from\"./getWeb3\";import Header from\"./components/Header\";import SupplyForm from\"./components/SupplyForm\";import Track from\"./components/TrackForm\";import Inventory from\"./components/Inventory\";import AddProduct from\"./components/AddProduct\";import FinancialLog from\"./components/FinancialLog\";import NewDemoTestContract from\"./contracts/NewDemoTest.json\";import{BrowserRouter,Route,NavLink}from\"react-router-dom\";import\"./App.css\";//  class Welcome extends Component {\n//   render() {\n//     return (\n//       <div> Welcome! </div>\n//     );\n//   }\n// }\nvar App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={web3:null,accounts:null,contract:null};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var web3,accounts,balance,networkId,deployedNetwork,instance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getWeb3();case 3:web3=_context.sent;_context.next=6;return web3.eth.getAccounts();case 6:accounts=_context.sent;_context.t0=web3.utils;_context.next=10;return web3.eth.getBalance(accounts[0]);case 10:_context.t1=_context.sent;balance=_context.t0.fromWei.call(_context.t0,_context.t1,\"ether\");_context.next=14;return web3.eth.net.getId();case 14:networkId=_context.sent;deployedNetwork=NewDemoTestContract.networks[networkId];instance=new web3.eth.Contract(NewDemoTestContract.abi,deployedNetwork&&deployedNetwork.address);// Set web3, accounts, and contract to the state, and then proceed with an\n// example of interacting with the contract's methods.\n// this.setState({ web3, accounts, contract: instance }, this.runExample);\n_this.setState({web3:web3,accounts:accounts,balance:balance,contract:instance});_context.next=23;break;case 20:_context.prev=20;_context.t2=_context[\"catch\"](0);// Catch any errors for any of the above operations.\nalert(\"Failed to load blockchain data. Check console for details.\");//  console.error(error);\ncase 23:case\"end\":return _context.stop();}}},_callee,null,[[0,20]]);}));return _this;}_createClass(App,[{key:\"render\",//  runExample = async () => {\n//  const {contract, accounts } = this.state;\n//   // Stores a given value, 5 by default.\n//   // await contract.methods.set(5).send({ from: accounts[0] });\n//   const supplier =  await contract.methods.getSupplier('0xf333028b8Fc7a030F1186Db50BceF0C0607c2CF2').call();\n// await contract.methods.createLog(1, 'SHIPPED' ,'20C', '25%', 'NORMAL').send({from: accounts[0]})\n// const response = await contract.methods.getTrackLogs(1).call()\n//   // Get the value from the contract to prove it worked.\n//   // const response = await contract.methods.get().call();\n//   // Update state with the result.\n//   this.setState({ supplier });\n// this.setState({response});\n//  };\nvalue:function render(){var _this2=this;// if (!this.state.web3) {\n//   return <div>Loading Web3, accounts, and contract...</div>;\n// }\nreturn React.createElement(BrowserRouter,null,React.createElement(\"div\",{className:\"App\"},React.createElement(Header,{accounts:this.state.accounts,balance:this.state.balance}),React.createElement(\"div\",{className:\"navbar-container\"},React.createElement(\"ul\",{className:\"nav-list\"},React.createElement(\"li\",{className:\"nav-item\"},\" \",React.createElement(NavLink,{to:\"/add-product\"},\"ADD PRODUCT\"),\" \"),React.createElement(\"li\",{className:\"nav-item\"},\" \",React.createElement(NavLink,{to:\"/supply\"},\"REQUEST MATERIAL\"),\" \"),React.createElement(\"li\",{className:\"nav-item\"},\" \",React.createElement(NavLink,{to:\"/track\"},\"TRACK REQUESTS\"),\" \"),React.createElement(\"li\",{className:\"nav-item\"},\" \",React.createElement(NavLink,{to:\"/inventory\"},\"VIEW INVENTORY\"),\" \"),React.createElement(\"li\",{className:\"nav-item\"},\" \",React.createElement(NavLink,{to:\"/financial-log\"},\"FINANCIAL LOG\"),\" \"))),React.createElement(Route,{path:\"/supply\",exact:true,render:function render(props){return React.createElement(SupplyForm,Object.assign({},props,{Web3:_this2.state.web3,account:_this2.state.accounts,contract:_this2.state.contract}));}}),React.createElement(Route,{path:\"/inventory\",exact:true,component:Inventory}),React.createElement(Route,{path:\"/track\",exact:true,render:function render(props){return React.createElement(Track,Object.assign({},props,{account:_this2.state.accounts,contract:_this2.state.contract}));}}),React.createElement(Route,{path:\"/add-product\",exact:true,render:function render(props){return React.createElement(AddProduct,Object.assign({},props,{accounts:_this2.state.accounts,contract:_this2.state.contract}));}}),React.createElement(Route,{path:\"/financial-log\",exact:true,component:FinancialLog}),React.createElement(\"div\",null,\" \",this.state.response,\" \")));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/mohamedkaram/Documents/Demo-sandbox/client/src/App.js"],"names":["React","Component","getWeb3","Header","SupplyForm","Track","Inventory","AddProduct","FinancialLog","NewDemoTestContract","BrowserRouter","Route","NavLink","App","state","web3","accounts","contract","componentDidMount","eth","getAccounts","utils","getBalance","balance","fromWei","net","getId","networkId","deployedNetwork","networks","instance","Contract","abi","address","setState","alert","props","response"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport getWeb3 from \"./getWeb3\";\nimport Header from \"./components/Header\";\nimport SupplyForm from \"./components/SupplyForm\";\nimport Track from \"./components/TrackForm\";\nimport Inventory from \"./components/Inventory\";\nimport AddProduct from \"./components/AddProduct\";\n\nimport FinancialLog from \"./components/FinancialLog\";\nimport NewDemoTestContract from \"./contracts/NewDemoTest.json\";\nimport { BrowserRouter, Route, NavLink } from \"react-router-dom\";\nimport \"./App.css\";\n\n//  class Welcome extends Component {\n//   render() {\n//     return (\n//       <div> Welcome! </div>\n//     );\n//   }\n// }\n\nclass App extends Component {\n  // state = { storageValue: 0, web3: null, accounts: null, contract: null };\n  state = { web3: null, accounts: null, contract: null };\n\n  componentDidMount = async () => {\n    try {\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // // // // Use web3 to get the user's accounts.\n      const accounts = await web3.eth.getAccounts();\n      const balance = web3.utils.fromWei(\n        await web3.eth.getBalance(accounts[0]),\n        \"ether\"\n      );\n      // // // Get the contract instance.\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = NewDemoTestContract.networks[networkId];\n      const instance = new web3.eth.Contract(\n        NewDemoTestContract.abi,\n        deployedNetwork && deployedNetwork.address\n      );\n\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n      // this.setState({ web3, accounts, contract: instance }, this.runExample);\n      this.setState({ web3, accounts, balance, contract: instance });\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(`Failed to load blockchain data. Check console for details.`);\n      //  console.error(error);\n    }\n  };\n\n  //  runExample = async () => {\n  //  const {contract, accounts } = this.state;\n\n  //   // Stores a given value, 5 by default.\n  //   // await contract.methods.set(5).send({ from: accounts[0] });\n  //   const supplier =  await contract.methods.getSupplier('0xf333028b8Fc7a030F1186Db50BceF0C0607c2CF2').call();\n  // await contract.methods.createLog(1, 'SHIPPED' ,'20C', '25%', 'NORMAL').send({from: accounts[0]})\n  // const response = await contract.methods.getTrackLogs(1).call()\n\n  //   // Get the value from the contract to prove it worked.\n  //   // const response = await contract.methods.get().call();\n\n  //   // Update state with the result.\n  //   this.setState({ supplier });\n  // this.setState({response});\n  //  };\n\n  render() {\n    // if (!this.state.web3) {\n    //   return <div>Loading Web3, accounts, and contract...</div>;\n    // }\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          <Header accounts={this.state.accounts} balance={this.state.balance} />\n          <div className=\"navbar-container\">\n            <ul className=\"nav-list\">\n              <li className=\"nav-item\">\n                {\" \"}\n                <NavLink to=\"/add-product\">ADD PRODUCT</NavLink>{\" \"}\n              </li>\n              <li className=\"nav-item\">\n                {\" \"}\n                <NavLink to=\"/supply\">REQUEST MATERIAL</NavLink>{\" \"}\n              </li>\n              <li className=\"nav-item\">\n                {\" \"}\n                <NavLink to=\"/track\">TRACK REQUESTS</NavLink>{\" \"}\n              </li>\n              <li className=\"nav-item\">\n                {\" \"}\n                <NavLink to=\"/inventory\">VIEW INVENTORY</NavLink>{\" \"}\n              </li>\n              <li className=\"nav-item\">\n                {\" \"}\n                <NavLink to=\"/financial-log\">FINANCIAL LOG</NavLink>{\" \"}\n              </li>\n            </ul>\n          </div>\n\n          {/* <Route path=\"/\" exact component={App} /> */}\n          {/* <Route path=\"/add-product\" exact \n        render={(props) => (\n          <AddProduct {...props} accounts={this.state.accounts} contract={this.state.contract} />\n        )} /> */}\n\n          <Route\n            path=\"/supply\"\n            exact\n            render={(props) => (\n              <SupplyForm\n                {...props}\n                Web3={this.state.web3}\n                account={this.state.accounts}\n                contract={this.state.contract}\n              />\n            )}\n          />\n          <Route path=\"/inventory\" exact component={Inventory} />\n          <Route\n            path=\"/track\"\n            exact\n            render={(props) => (\n              <Track\n                {...props}\n                account={this.state.accounts}\n                contract={this.state.contract}\n              />\n            )}\n          />\n          <Route\n            path=\"/add-product\"\n            exact\n            render={(props) => (\n              <AddProduct\n                {...props}\n                accounts={this.state.accounts}\n                contract={this.state.contract}\n              />\n            )}\n          />\n          <Route path=\"/financial-log\" exact component={FinancialLog} />\n          {/* <Navbar /> */}\n          {/* <ProductForm contract = {this.state.contract} accounts = {this.state.accounts} /> */}\n          {/* <Inventory /> */}\n          {/* <MaterialsList/> */}\n          {/* <h1>Good to Go!</h1>\n        <p>Your Truffle Box is installed and ready.</p>\n        <h2>Smart Contract Example</h2>\n        <p>\n          If your contracts compiled and migrated successfully, below will show\n          a stored value of 5 (by default).\n        </p>\n        <p>\n          Try changing the value stored on <strong>line 40</strong> of App.js.\n        </p>\n        <div>The stored value is: {this.state.storageValue}</div> */}\n          <div> {this.state.response} </div>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}