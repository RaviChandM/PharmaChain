{"ast":null,"code":"var _jsxFileName = \"/home/mohamedkaram/Documents/Demo-sandbox/client/src/components/ProductForm.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, NavLink } from 'react-router-dom';\n\nclass QueryProductSpecs extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      proName: ''\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefault(); // this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n      // this.logProduct();\n      // const material = this.state.materialName;\n      // const proName = this.state.proName;\n      // const supplierId = this.state.supplier;\n\n      const specs = await this.props.contract.methods.getProductSpecs(this.state.proName).call();\n\n      if (specs.length === 0) {\n        this.setState({\n          specs: specs.push(\"Didn't find any specs for the given product ID, please try again!\")\n        });\n      }\n\n      this.setState({\n        specs\n      });\n      this.setState({\n        proName: ''\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        proName: this.productRef.current.value\n      });\n    };\n\n    this.productRef = React.createRef();\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"newform-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \" Enter Product ID \"), React.createElement(\"input\", {\n      type: \"text\",\n      ref: this.productRef,\n      placeholder: \"e.g. pro101\",\n      value: this.state.proName,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      style: {\n        cursor: 'pointer'\n      },\n      className: \"btn\",\n      type: \"submit\",\n      value: \"VIEW PRODUCT SPECS\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginTop: '20px',\n        fontStyle: 'italic'\n      },\n      className: \"product-data-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.specs));\n  }\n\n}\n\nclass RequestMaterials extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      materialName: '',\n      materialsVisibility: false,\n      proName: '',\n      supplier: ''\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n\n      if (this.props.Web3.utils.isAddress(this.state.supplier)) {\n        const materials = await this.props.contract.methods.getMaterialBySupplier(\"\".concat(this.state.supplier)).call();\n\n        if (materials.length === 0) {\n          this.setState({\n            materials: materials.push(\"This supplier has no materials created currently!\")\n          });\n        } // this.setState({  matName: '', proName: '', supplier: '', materialsVisibility: true });\n\n\n        this.setState({\n          materials\n        });\n      } // this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n      // this.logProduct();\n      // const material = this.state.materialName;\n      // const proName = this.state.proName;\n      // const supplierId = this.state.supplier;\n\n\n      this.setState({\n        supplier: ''\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        // materialName : this.materialRef.current.value,\n        supplier: this.supplierRef.current.value\n      });\n    };\n\n    this.materialRef = React.createRef();\n    this.supplierRef = React.createRef();\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  render() {\n    let acc = this.props.account;\n    let cont = this.props.contract;\n    let web = this.props.Web3;\n    console.log(acc, cont, web);\n\n    if (!acc || !cont || !web) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \" Loading..... \");\n    }\n\n    return React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"newform-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Enter Supplier ID\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"supplier-id\",\n      ref: this.supplierRef,\n      placeholder: \"e.g. 0x49A504f461b36A9337Ddaf1f63c3A3AAD0242E81\",\n      autoComplete: \"off\",\n      value: this.state.supplier,\n      onChange: this.onChange,\n      onClick: this.viewMaterialBySupplierAddress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      style: {\n        cursor: 'pointer'\n      },\n      className: \"btn\",\n      type: \"submit\",\n      value: \"SEARCH AVAILABLE MATERIAL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginTop: '20px',\n        fontStyle: 'italic'\n      },\n      className: \"material-data-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.state.materials));\n  }\n\n}\n\nclass ProductForm extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidMount = async () => {// if (!this.props.contract || !this.props.accounts) {\n      //     return <h2> PLEASE WAIT... </h2>;\n      // }\n    };\n\n    this.viewSpecs = async () => {\n      const specs = await this.props.contract.methods.getProductSpecs(this.state.proName).call();\n\n      if (specs.length === 0) {\n        this.setState({\n          specs: specs.push(\"Didn't find any specs for the given product ID, please try again!\")\n        });\n      }\n\n      console.log(specs);\n      this.setState({\n        specs\n      });\n    };\n\n    this.viewMaterialBySupplierAddress = async () => {\n      // console.log()\n      if (this.props.Web3.utils.isAddress(this.state.supplier)) {\n        const materials = await this.props.contract.methods.getMaterialBySupplier(\"\".concat(this.state.supplier)).call();\n\n        if (materials.length === 0) {\n          this.setState({\n            materials: materials.push(\"This supplier has no materials created currently!\")\n          });\n        }\n\n        this.setState({\n          materials\n        });\n      }\n    };\n  }\n\n  render() {\n    // const vis = this.state.materialsVisibility ? 'show' : 'hide';\n    // const random = Math.floor(Math.random() * 100);\n    let acc = this.props.account;\n    let cont = this.props.contract;\n\n    if (!acc || !cont) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, \" Loading..... \");\n    }\n\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"product-form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"side-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"mini-nav-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"link-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/supply/querySpecs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"+ QUERY SPECS\"), \" \"), React.createElement(\"li\", {\n      className: \"link-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \" \", React.createElement(NavLink, {\n      to: \"/supply/requestMaterial\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"+ REQUEST MATERIALS\")))), React.createElement(\"div\", {\n      className: \"main-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/supply/querySpecs\",\n      exact: true,\n      render: props => React.createElement(QueryProductSpecs, Object.assign({}, props, {\n        account: this.props.account,\n        contract: this.props.contract,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/supply/requestMaterial\",\n      exact: true,\n      render: props => React.createElement(RequestMaterials, Object.assign({}, props, {\n        Web3: this.props.Web3,\n        account: this.props.account,\n        contract: this.props.contract,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default ProductForm;","map":{"version":3,"sources":["/home/mohamedkaram/Documents/Demo-sandbox/client/src/components/ProductForm.js"],"names":["React","Component","BrowserRouter","Route","NavLink","QueryProductSpecs","constructor","props","state","proName","onSubmit","e","preventDefault","specs","contract","methods","getProductSpecs","call","length","setState","push","onChange","productRef","current","value","createRef","bind","render","cursor","marginTop","fontStyle","RequestMaterials","materialName","materialsVisibility","supplier","Web3","utils","isAddress","materials","getMaterialBySupplier","supplierRef","materialRef","acc","account","cont","web","console","log","viewMaterialBySupplierAddress","ProductForm","componentDidMount","viewSpecs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter, Route, NavLink } from 'react-router-dom';\n\nclass QueryProductSpecs extends Component {\n\n    state = {proName: ''}\n\n    constructor(props) {\n        super(props);\n        this.productRef = React.createRef();\n        this.onSubmit = this.onSubmit.bind(this)\n        this.onChange = this.onChange.bind(this)\n    }\n\n    onSubmit = async (e) => {\n        e.preventDefault();\n        // this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n        // this.logProduct();\n        // const material = this.state.materialName;\n        // const proName = this.state.proName;\n        // const supplierId = this.state.supplier;\n\n        const specs = await this.props.contract.methods.getProductSpecs(this.state.proName).call()\n        if(specs.length === 0) {\n            this.setState({specs: specs.push(\"Didn't find any specs for the given product ID, please try again!\") })\n        }\n        this.setState({specs})\n\n        this.setState({  proName: ''});\n      }\n\n    onChange = (e) => {\n\n        this.setState({ \n            proName : this.productRef.current.value,\n            });\n    }\n\n\n\n    render() {\n        return(\n            <form onSubmit= {this.onSubmit} className=\"newform-container\">\n                <h4> Enter Product ID </h4> \n                \n                    <input type=\"text\"\n                    ref={this.productRef}\n                    placeholder=\"e.g. pro101\" \n                    value={this.state.proName} \n                    onChange={this.onChange}/>\n        \n                      <input \n                      style= {{cursor:'pointer'}}\n                      className=\"btn\"\n                      type=\"submit\"\n                      value=\"VIEW PRODUCT SPECS\"/>\n\n                      {/* <button\n                      style= {{cursor:'pointer'}}\n                      className=\"btn\"\n                      type=\"submit\"\n                      onClick = {this.viewSpecs}\n                      \n                      >\n                          VIEW PRODUCT SPECS\n                      </button> */}\n                    <div style={{marginTop: '20px', fontStyle: 'italic'}} className='product-data-container'>\n                        {this.state.specs}\n                    </div>\n            </form>\n        );\n    }\n}\n\nclass RequestMaterials extends Component {\n\n    state = {materialName: '' , materialsVisibility:  false , proName: '' , supplier: '' }\n\n    constructor(props) {\n        super(props);\n       \n        this.materialRef = React.createRef();\n        this.supplierRef = React.createRef();\n        this.onSubmit = this.onSubmit.bind(this)\n        this.onChange = this.onChange.bind(this)\n    }\n\n    onSubmit = async (e) => {\n        e.preventDefault();\n\n        if(this.props.Web3.utils.isAddress(this.state.supplier)) {\n            const materials = await this.props.contract.methods.getMaterialBySupplier(`${this.state.supplier}`).call()\n            if (materials.length === 0) {\n                this.setState({materials: materials.push(\"This supplier has no materials created currently!\")})\n            }\n            // this.setState({  matName: '', proName: '', supplier: '', materialsVisibility: true });\n            this.setState({materials})\n        }\n\n        // this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n        // this.logProduct();\n        // const material = this.state.materialName;\n        // const proName = this.state.proName;\n        // const supplierId = this.state.supplier;\n        \n\n        this.setState({ supplier: ''});\n      }\n\n    onChange = (e) => {\n        this.setState({ \n            // materialName : this.materialRef.current.value,\n            supplier: this.supplierRef.current.value\n            });\n    }\n\n    render() {\n        let acc = this.props.account;\n        let cont = this.props.contract;\n        let web = this.props.Web3;\n        console.log(acc,cont, web);\n        if (!acc || !cont || !web) {\n            return <div> Loading..... </div>\n        }\n        return(\n           <form onSubmit= {this.onSubmit} className=\"newform-container\">\n               <h4>Enter Supplier ID</h4>\n\n                    <input\n                    type=\"text\" id=\"supplier-id\" \n                    ref={this.supplierRef}\n                    placeholder=\"e.g. 0x49A504f461b36A9337Ddaf1f63c3A3AAD0242E81\"\n                    autoComplete=\"off\"\n                    value = {this.state.supplier}\n                    onChange = {this.onChange}\n                    onClick = {this.viewMaterialBySupplierAddress}\n                    /> \n\n                    {/* <button\n                    style= {{cursor:'pointer'}}\n                    className=\"btn\"\n                    type=\"submit\"\n                    onClick = {this.getProductSpecs}\n                    >SEARCH FOR MATERIAL </button> */}\n\n                    <input style= {{ cursor:'pointer'}} className=\"btn\" type=\"submit\" value=\"SEARCH AVAILABLE MATERIAL\"/> \n\n                    <div style={{marginTop: '20px', fontStyle: 'italic'}} className='material-data-container'>\n                    {this.state.materials}\n                    </div>\n\n           </form>\n        )\n    }\n}\n\nclass ProductForm extends Component {\n\n    // state = {materialName: '' , materialsVisibility:  false , proName: '' , supplier: '' }\n\n\n    // constructor(props) {\n    //     super(props);\n       \n    //     this.materialRef = React.createRef();\n    //     this.supplierRef = React.createRef();\n    //     this.onSubmit = this.onSubmit.bind(this)\n    //     this.onChange = this.onChange.bind(this)\n    //     this.viewMaterialBySupplierAddress = this.viewMaterialBySupplierAddress.bind(this)\n    //     this.viewSpecs = this.viewSpecs.bind(this)\n    // }\n\n    componentDidMount = async() => {\n      \n        // if (!this.props.contract || !this.props.accounts) {\n        //     return <h2> PLEASE WAIT... </h2>;\n        // }\n        \n    };\n\n    // onSubmit = async (e) => {\n    //     e.preventDefault();\n    //     // this.props.contract.methods.addProduct('1', this.state.input).send({from: this.props.accounts[0]});\n    //     // this.logProduct();\n    //     // const material = this.state.materialName;\n    //     // const proName = this.state.proName;\n    //     // const supplierId = this.state.supplier;\n\n        \n \n    //     this.viewMaterialBySupplierAddress();\n    //   }\n\n    // onChange = (e) => {\n    //     e.preventDefault();\n    //     this.setState({ \n    \n    //         proName : this.productRef.current.value,\n    //         // materialName : this.materialRef.current.value,\n    //         supplier: this.supplierRef.current.value\n    //         });\n    // }\n\n    // logProduct = async () => {\n    //     const product = await this.props.contract.methods.getProductDetails('5').call();\n    //     console.table(product);\n    // }\n\n    // fakeTransact = async () => {\n    //     //await contract.methods.set(5).send({ from: accounts[0] });\n    //     this.props.contract.methods.set(5).send({from: this.props.accounts[0]})\n    //     this.setState({materialsVisibility: !this.setState.materialsVisibility });\n    //     console.log(this.state.materialsVisibility)\n    // }\n        viewSpecs = async() => {\n            const specs = await this.props.contract.methods.getProductSpecs(this.state.proName).call()\n            if(specs.length === 0) {\n\n                this.setState({specs: specs.push(\"Didn't find any specs for the given product ID, please try again!\") })\n            }\n            console.log(specs)\n            this.setState({specs})\n        }\n\n        viewMaterialBySupplierAddress = async () => {\n            // console.log()\n            if(this.props.Web3.utils.isAddress(this.state.supplier)) {\n                const materials = await this.props.contract.methods.getMaterialBySupplier(`${this.state.supplier}`).call()\n                if (materials.length === 0) {\n                    this.setState({materials: materials.push(\"This supplier has no materials created currently!\")})\n                }\n                this.setState({materials})\n            }\n            \n            \n        }\n    render() {\n        // const vis = this.state.materialsVisibility ? 'show' : 'hide';\n        // const random = Math.floor(Math.random() * 100);\n        let acc = this.props.account;\n        let cont = this.props.contract;\n        if (!acc || !cont) {\n            return <div> Loading..... </div>\n        }\n        return (\n\n            <BrowserRouter>\n            <div className=\"product-form-container\">\n               <div className=\"side-nav\"> \n                    <ul className='mini-nav-list'>\n                        <li className=\"link-item\"><NavLink to=\"/supply/querySpecs\">+ QUERY SPECS</NavLink> </li>\n                        <li className=\"link-item\"> <NavLink to=\"/supply/requestMaterial\">+ REQUEST MATERIALS</NavLink></li>\n                    </ul>\n                </div>\n                <div className=\"main-content\">\n                <Route path=\"/supply/querySpecs\" exact \n                render={props => (\n                    <QueryProductSpecs {...props} account ={this.props.account} contract={this.props.contract} />\n                  )}\n                 />\n                <Route path=\"/supply/requestMaterial\" exact \n                render={props => (\n                    <RequestMaterials {...props} Web3 = {this.props.Web3} account={this.props.account} contract={this.props.contract} />\n                  )} />    \n                </div>\n                \n            </div>\n\n              \n            </BrowserRouter>\n         );\n\n        \n\n    }\n}\n\nexport default ProductForm;"]},"metadata":{},"sourceType":"module"}